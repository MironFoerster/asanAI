<div id="config-container">
    <div id="trainer-config">
        <div id="general">
            <div class="general-setting">
                <label for="epochs">Epochs</label>
                <input type="number" [(ngModel)]="trainer.data.epochs" value="10" min="1" max="1000" name="epochs">
            </div>
            <div class="general-setting">
                <label for="split">Test-Split</label>
                <input type="number" [(ngModel)]="trainer.data.split" value="10" step="10" min="0" max="100" name="split">
            </div>
            <div class="general-setting">
                <label for="batch">Batch Size</label>
                <input type="number" [(ngModel)]="trainer.data.batchSize" value="10" min="1" max="1000" name="batch">
            </div>
        </div>
        <div id="optimizer">
            <div id="top-opt">
                <label for="optimizer">Optimizer</label>
                <select [(ngModel)]="trainer.data.optimizer" name="optimizer" id="select-opt" (change)="setOptDefaults()">
                    @for (opt of OPTIMIZERS | keyvalue; track opt) {
                        <option value="{{ opt.key }}">{{ opt.key }}</option>
                    }
                </select>
            </div>
            <div id="bottom-opt">
                @for (param of OPTIMIZERS[trainer.data.optimizer].params; track param) {
                    <div class="optimizer-setting">
                        <label for="batch">{{ param.name }}</label>
                        <select [(ngModel)]="trainer.data.optParams[param.name]" name="optimizer" id="select-opt">
                            @for (opt of param.options; track opt) {
                                <option value="{{ opt }}">{{ opt }}</option>
                            }
                        </select>
                    </div>
                }
            </div>
        </div>
        <div id="loss">
            <label for="loss">Loss</label>
            <select [(ngModel)]="trainer.data.loss" name="loss" id="select-loss">
                @for (opt of LOSSES; track opt) {
                    <option value="{{ opt }}">{{ opt }}</option>
                }
            </select>
        </div>
        <div id="train-btn" [class.disabled]="!clearForTraining" (click)="startTraining.emit()">TRAIN</div>
    </div>
</div>