# Generated by Django 5.0.1 on 2024-05-06 10:15

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('asanapi', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name='lab',
            name='shared_with_users',
            field=models.ManyToManyField(related_name='shared_labs', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='lab',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='labs', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='lesson',
            name='recommended_challenges',
            field=models.ManyToManyField(related_name='recommended_in_lessons', to='asanapi.data'),
        ),
        migrations.AddField(
            model_name='concept',
            name='conveyed_by',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='conveyed_concepts', to='asanapi.lesson'),
        ),
        migrations.AddField(
            model_name='concept',
            name='required_for',
            field=models.ManyToManyField(related_name='required_concepts', to='asanapi.lesson'),
        ),
        migrations.AddField(
            model_name='pipe',
            name='data',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='used_in_pipes', to='asanapi.data'),
        ),
        migrations.AddField(
            model_name='lab',
            name='pipe',
            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lab', to='asanapi.pipe'),
        ),
        migrations.AddField(
            model_name='pipeversion',
            name='data',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='used_in_pipe_versions', to='asanapi.data'),
        ),
        migrations.AddField(
            model_name='pipeversion',
            name='pipe',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='asanapi.pipe'),
        ),
        migrations.AddField(
            model_name='lab',
            name='pipe_source',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='source_in_labs', to='asanapi.pipeversion'),
        ),
        migrations.AddField(
            model_name='space',
            name='admin',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='admin_in_spaces', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='space',
            name='shared_labs',
            field=models.ManyToManyField(related_name='shared_in_spaces', to='asanapi.lab'),
        ),
        migrations.AddField(
            model_name='space',
            name='users',
            field=models.ManyToManyField(related_name='member_in_spaces', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='lab',
            name='model',
            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lab', to='asanapi.tfmodel'),
        ),
        migrations.AddField(
            model_name='tfmodelversion',
            name='model',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='asanapi.tfmodel'),
        ),
        migrations.AddField(
            model_name='lab',
            name='model_source',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='source_in_labs', to='asanapi.tfmodelversion'),
        ),
        migrations.AddField(
            model_name='lab',
            name='trainer',
            field=models.OneToOneField(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='lab', to='asanapi.trainer'),
        ),
        migrations.AddField(
            model_name='trainerversion',
            name='trainer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='versions', to='asanapi.trainer'),
        ),
        migrations.AddField(
            model_name='unit',
            name='challenge_choices',
            field=models.ManyToManyField(related_name='choice_in_units', to='asanapi.data'),
        ),
        migrations.AddField(
            model_name='unit',
            name='in_space',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='units', to='asanapi.space'),
        ),
        migrations.AddField(
            model_name='unit',
            name='lesson',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='used_in_units', to='asanapi.lesson'),
        ),
        migrations.AddField(
            model_name='unit',
            name='linked_labs',
            field=models.ManyToManyField(related_name='linked_units', to='asanapi.lab'),
        ),
        migrations.AddConstraint(
            model_name='unit',
            constraint=models.UniqueConstraint(fields=('in_space', 'order_index'), name='unique_unit_order'),
        ),
    ]
