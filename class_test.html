<!DOCTYPE html>
<html>
	<head>
		<title>asanai.js-test</title>
		<script src='asanai.js' crossorigin></script>
		<script src='tf/tf.min.js' crossorigin></script>
		<script src='libs/jquery.js' crossorigin></script>
		<script src='libs/plotly-latest.min.js' crossorigin></script>
	</head>
	<body>
		<h1>asanAI.js test</h1>

		<pre id="memory"></pre>

		<!--<pre id="asanai_debug"></pre>-->

		<pre id="summary_pre"></pre>
		
		<button onclick="asanai.toggle_webcam(this)">Stop webcam</button>

		<div id="webcam_prediction"></div>

		<div id="internal_states"></div>

		<div id="fcnn_div"></div>

		<script>
			var model = tf.sequential({  
				layers: [
					tf.layers.conv2d({filters: 4, kernelSize: [3, 3], inputShape: [20, 20, 3]}),
					tf.layers.conv2d({filters: 4, kernelSize: [3, 3]}),
					tf.layers.flatten(),
					tf.layers.dense({units: 5}),
					tf.layers.dense({units: 4, activation: "softmax"})
				]
			});

			model.compile({ optimizer: "adam", loss: "categoricalCrossentropy" });

			var asanai = new asanAI({model: model});

			//$("#asanai_debug").html(JSON.stringify(asanai));

			//asanai.show_internals("internal_states");
			//asanai.hide_internals();

			//asanai.show_and_predict_webcam_in_div("webcam_prediction");

			asanai.draw_fcnn("fcnn_div");

			//asanai.write_model_summary("summary_pre")

			asanai.write_tensors_info("memory");
		</script>
	</body>
</html>
